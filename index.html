<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AI Prompt Builder PRO+</title>

<style>
body{margin:0;font-family:system-ui;background:#f2f2f2}
.container{display:flex;height:100vh}
.left{width:70%;padding:12px;overflow:auto}
.right{width:30%;background:#111;color:#0f0;padding:12px;position:fixed;right:0;top:0;height:100%}

.topbar{display:flex;gap:6px;margin-bottom:12px}
.topbar button{flex:1;padding:10px;border:none;border-radius:8px;font-weight:bold;cursor:pointer}
.btn-blue{background:#007bff;color:#fff}
.btn-purple{background:#6f42c1;color:#fff}
.btn-green{background:#28a745;color:#fff}
.btn-orange{background:#fd7e14;color:#fff}

.card{background:#fff;border-radius:10px;padding:12px;margin-bottom:12px;border-left:5px solid #ddd}
.group{border:2px dashed #bbb;padding:10px;border-radius:10px;margin-bottom:12px}
h2{margin:0 0 6px 0;font-size:17px}
select,input,textarea,button{width:100%;padding:8px;margin-top:6px;border-radius:6px;border:1px solid #ccc}
.row{display:flex;gap:6px;margin-top:6px}
.add{background:#28a745;color:#fff;border:none}
.del{background:#dc3545;color:#fff;border:none}
.copy{background:#6c757d;color:#fff;border:none}
.output{height:85%;background:#000;color:#0f0;font-family:monospace}
</style>
</head>

<body>
<div class="container">

<!-- LEFT -->
<div class="left">

  <!-- TOP BAR -->
  <div class="topbar">
    <button class="btn-blue" onclick="modeImage()">üñº ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏†‡∏≤‡∏û</button>
    <button class="btn-purple" onclick="modeWork()">üß© ‡∏á‡∏≤‡∏ô</button>
    <button class="btn-green" onclick="modeVoice()">üé§ ‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏û‡∏≤‡∏Å‡∏¢‡πå</button>
    <button class="btn-orange" onclick="modeSub()">‚úçÔ∏è ‡∏ã‡∏±‡∏ö‡πÑ‡∏ï‡πÄ‡∏ï‡∏¥‡∏•</button>
  </div>

  <!-- PRESET SORA (‡∏ñ‡∏≤‡∏ß‡∏£ ‡πÑ‡∏°‡πà‡πÇ‡∏î‡∏ô render ‡∏ó‡∏±‡∏ö) -->
  <div class="card">
    <h2>üé¨ Preset Sora</h2>
    <select id="presetSora" onchange="loadPreset()"></select>
    <input id="presetName" placeholder="‡∏ä‡∏∑‡πà‡∏≠ Preset">
    <textarea id="presetText" rows="4" placeholder="‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î Preset"></textarea>
    <div class="row">
      <button class="add" onclick="savePreset()">üíæ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
      <button class="del" onclick="deletePreset()">üóë ‡∏•‡∏ö</button>
    </div>
  </div>

  <!-- MAIN MENU -->
  <div id="menu"></div>

</div>

<!-- RIGHT -->
<div class="right">
  <h2>üìÑ Prompt ‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ</h2>
  <textarea id="result" class="output" readonly></textarea>
  <button class="copy" onclick="copyText()">üìã Copy</button>
</div>

</div>

<script>
/* STORAGE */
const LS="PROMPT_BUILDER_DATA";
const LS_PRESET="SORA_PRESETS";

/* PRESET */
const presetSora=document.getElementById("presetSora");
const presetName=document.getElementById("presetName");
const presetText=document.getElementById("presetText");
const result=document.getElementById("result");

let soraPresets=JSON.parse(localStorage.getItem(LS_PRESET)) || {
  ugc:{name:"UGC ‡∏£‡∏µ‡∏ß‡∏¥‡∏ß‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤",text:"A vertical 9:16 UGC-style video.\nNatural lighting.\n15 seconds."}
};

function renderPresets(){
  presetSora.innerHTML="";
  Object.keys(soraPresets).forEach(k=>{
    const o=document.createElement("option");
    o.value=k;
    o.textContent=soraPresets[k].name;
    presetSora.appendChild(o);
  });
  loadPreset();
}

function loadPreset(){
  const p=soraPresets[presetSora.value];
  if(!p) return;
  presetName.value=p.name;
  presetText.value=p.text;
  update();
}

function savePreset(){
  if(!presetName.value) return alert("‡∏Å‡∏£‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠ Preset");
  const k=presetName.value.toLowerCase().replace(/\s+/g,"_");
  soraPresets[k]={name:presetName.value,text:presetText.value};
  localStorage.setItem(LS_PRESET,JSON.stringify(soraPresets));
  renderPresets();
  presetSora.value=k;
}

function deletePreset(){
  delete soraPresets[presetSora.value];
  localStorage.setItem(LS_PRESET,JSON.stringify(soraPresets));
  renderPresets();
}

/* DATA */
let data=JSON.parse(localStorage.getItem(LS)) || {
  image:{enabled:false,items:["‡πÅ‡∏ï‡πà‡∏á‡∏†‡∏≤‡∏û 9:16"]},
  product:{enabled:false,items:["‡∏ó‡πá‡∏≠‡∏õ‡πÄ‡∏õ‡∏≠‡∏£‡πå"]},
  work:{enabled:false,items:["UGC ‡∏£‡∏µ‡∏ß‡∏¥‡∏ß"]},
  model:{enabled:false,items:["‡∏ô‡∏≤‡∏á‡πÅ‡∏ö‡∏ö‡πÄ‡∏≠‡πÄ‡∏ä‡∏µ‡∏¢"]},
  style:{enabled:false,items:["Luxury"]},
  mood:{enabled:false,items:["‡∏≠‡∏ö‡∏≠‡∏∏‡πà‡∏ô"]},
  voice:{enabled:false,items:["‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏ú‡∏π‡πâ‡∏´‡∏ç‡∏¥‡∏á"]},
  subtitle:{enabled:false,items:["‡∏ã‡∏±‡∏ö‡∏Ç‡∏≤‡∏¢"]}
};

function save(){localStorage.setItem(LS,JSON.stringify(data));}

function section(title,key){
  const c=data[key];
  return `
  <div class="card">
    <h2><input type="checkbox" ${c.enabled?"checked":""}
      onchange="toggle('${key}',this.checked)"> ${title}</h2>
    <select id="${key}_s" onchange="update()">
      ${c.items.map(v=>`<option>${v}</option>`).join("")}
    </select>
    <input id="${key}_i" placeholder="‡πÄ‡∏û‡∏¥‡πà‡∏° / ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç">
    <div class="row">
      <button class="add" onclick="add('${key}')">‚ûï ‡πÄ‡∏û‡∏¥‡πà‡∏°</button>
      <button class="del" onclick="delItem('${key}')">üóë ‡∏•‡∏ö</button>
    </div>
  </div>`;
}

function render(){
  const m=document.getElementById("menu");
  m.innerHTML=
    section("üñº ‡∏´‡∏°‡∏ß‡∏î‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏†‡∏≤‡∏û","image")+
    section("üì¶ ‡∏´‡∏°‡∏ß‡∏î‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤","product")+
    `<div class="group">
      ${section("üß† ‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏á‡∏≤‡∏ô","work")}
      ${section("üë§ ‡∏ô‡∏≤‡∏¢‡πÅ‡∏ö‡∏ö / ‡∏ô‡∏≤‡∏á‡πÅ‡∏ö‡∏ö","model")}
      ${section("üé¨ ‡∏™‡πÑ‡∏ï‡∏•‡πå VDO","style")}
      ${section("üå§ ‡∏ö‡∏£‡∏£‡∏¢‡∏≤‡∏Å‡∏≤‡∏®","mood")}
    </div>`+
    section("üé§ ‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏û‡∏≤‡∏Å‡∏¢‡πå","voice")+
    section("‚úçÔ∏è ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ã‡∏±‡∏ö‡πÑ‡∏ï‡πÄ‡∏ï‡∏¥‡∏•","subtitle");
  update();
}

function toggle(k,v){data[k].enabled=v;save();update();}
function add(k){const i=document.getElementById(k+"_i");if(!i.value)return;data[k].items.push(i.value);i.value="";save();render();}
function delItem(k){const s=document.getElementById(k+"_s");data[k].items.splice(s.selectedIndex,1);save();render();}

function line(t,k){
  if(!data[k].enabled) return "";
  const s=document.getElementById(k+"_s");
  return s?`${t}: ${s.value}\n`:"";
}

function update(){
  const p=soraPresets[presetSora.value];
  result.value=
`### PRESET SORA ###
${p?p.text:""}

### DETAIL ###
${line("‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏†‡∏≤‡∏û","image")}
${line("‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤","product")}
${line("‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏á‡∏≤‡∏ô","work")}
${line("‡∏ô‡∏≤‡∏¢‡πÅ‡∏ö‡∏ö","model")}
${line("‡∏™‡πÑ‡∏ï‡∏•‡πå","style")}
${line("‡∏ö‡∏£‡∏£‡∏¢‡∏≤‡∏Å‡∏≤‡∏®","mood")}
${line("‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏û‡∏≤‡∏Å‡∏¢‡πå","voice")}
${line("‡∏ã‡∏±‡∏ö","subtitle")}`;
}

function resetAll(){Object.keys(data).forEach(k=>data[k].enabled=false);}
function modeImage(){resetAll();data.image.enabled=true;save();render();}
function modeWork(){resetAll();["product","work","model","style","mood"].forEach(k=>data[k].enabled=true);save();render();}
function modeVoice(){resetAll();data.voice.enabled=true;save();render();}
function modeSub(){resetAll();data.subtitle.enabled=true;save();render();}

function copyText(){result.select();document.execCommand("copy");}

renderPresets();
render();
</script>
</body>
</html>