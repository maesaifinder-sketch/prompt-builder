<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>AI Prompt Builder PRO+</title>
<style>
  body{margin:0;font-family:system-ui;background:#f2f2f2}
  .container{display:flex;height:100vh}

  /* LEFT */
  .left{width:70%;padding:12px;margin-right:30%;overflow:auto}

  /* RIGHT */
  .right{
    width:30%;
    background:#111;color:#0f0;
    padding:12px;
    position:fixed;right:0;top:0;height:100%;
    display:flex;flex-direction:column;gap:8px;
  }

  /* TOP BAR */
  .topbar{
    display:flex;gap:6px;margin-bottom:12px;
    position:sticky;top:0;background:#f2f2f2;z-index:10
  }

  .btn-blue{background:#007bff;color:#fff}
  .btn-purple{background:#6f42c1;color:#fff}
  .btn-green{background:#28a745;color:#fff}
  .btn-orange{background:#fd7e14;color:#fff}

  /* CARD */
  .card{
    background:#fff;border-radius:10px;padding:12px;margin-bottom:12px;
    border-left:5px solid #ddd;
  }
  .card.active{border-left:5px solid #28a745;box-shadow:0 0 0 2px #28a74533}

  h2{margin:0 0 6px 0;font-size:16px}
  label{font-size:13px;color:#333}

  select,input,textarea,button{
    width:100%;padding:8px;margin-top:6px;border-radius:6px;border:1px solid #ccc;
    box-sizing:border-box;
  }

  .row{display:flex;gap:6px;margin-top:6px}
  .add{background:#28a745;color:#fff;border:none}
  .del{background:#dc3545;color:#fff;border:none;flex:0.5}
  .copy{background:#6c757d;color:#fff;border:none}
  .send{background:#0d6efd;color:#fff;border:none}
  .send:disabled{opacity:.6;cursor:not-allowed}

  /* OUTPUT (textarea) */
  .output{
    height:auto;min-height:140px;flex:1;
    background:#000;color:#0f0;font-family:monospace;
  }

  .log{
    margin-top:0;background:#000;color:#0f0;font-size:12px;
    padding:6px;height:140px;overflow:auto;border-radius:6px;
  }

  .preview{
    width:100%;
    max-height:180px;
    object-fit:contain;
    margin-top:6px;
    border-radius:8px;
    display:none;
    border:1px solid #e5e5e5;
    background:#fafafa;
  }

  .hint{
    font-size:12px;color:#666;margin-top:6px;line-height:1.3
  }
</style>
</head>

<body>
<div class="container">

  <!-- LEFT -->
  <div class="left">

    <!-- TOP BAR -->
    <div class="topbar">
      <button class="btn-blue" onclick="modeImage()">üñº ‡∏†‡∏≤‡∏û</button>
      <button class="btn-purple" onclick="modeWork()">üß© ‡∏á‡∏≤‡∏ô</button>
      <button class="btn-green" onclick="modeVoice()">üé§ ‡πÄ‡∏™‡∏µ‡∏¢‡∏á</button>
      <button class="btn-orange" onclick="modeSub()">‚úçÔ∏è ‡∏ã‡∏±‡∏ö</button>
    </div>

    <!-- IMAGE REFERENCES -->
    <div class="card">
      <h2>üñº ‡∏£‡∏π‡∏õ‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á (2 ‡∏£‡∏π‡∏õ)</h2>

      <label>‡∏£‡∏π‡∏õ‡∏ó‡∏µ‡πà 1: ‡∏†‡∏≤‡∏û‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</label>
      <input type="file" id="img1" accept="image/*" />
      <img id="preview1" class="preview" alt="preview1" />

      <button class="send" onclick="generateImage()">üñº Generate Image</button>

<img id="genPreview" class="preview" alt="generated image" style="display:none;max-height:320px;" />

<a id="downloadLink"
   class="copy"
   style="display:none;text-align:center;text-decoration:none;padding:10px;border-radius:8px;"
   download="generated.png">
  ‚¨áÔ∏è Download Image
</a>

      <label style="display:block;margin-top:10px;">‡∏£‡∏π‡∏õ‡∏ó‡∏µ‡πà 2: ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</label>
      <input type="file" id="img2" accept="image/*" />
      <img id="preview2" class="preview" alt="preview2" />

      <div class="hint">
        * ‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞ ‚Äú‡πÅ‡∏ô‡∏ö‡∏£‡∏π‡∏õ‚Äù ‡∏™‡πà‡∏á‡πÑ‡∏õ Backend ‡∏û‡∏£‡πâ‡∏≠‡∏° Sora Prompt<br>
        * ‡∏ñ‡πâ‡∏≤‡∏à‡∏∞‡πÉ‡∏´‡πâ GPT ‚Äú‡∏î‡∏π‡∏£‡∏π‡∏õ‡∏à‡∏£‡∏¥‡∏á‚Äù ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡∏¥‡∏î‡πÇ‡∏´‡∏°‡∏î Vision ‡πÉ‡∏ô Backend ‡πÄ‡∏û‡∏¥‡πà‡∏° (‡∏ó‡∏≥‡πÑ‡∏î‡πâ‡∏†‡∏≤‡∏¢‡∏´‡∏•‡∏±‡∏á)
      </div>
    </div>

    <!-- PRESET SORA -->
    <div class="card">
      <h2>üé¨ Preset Sora</h2>
      <select id="presetSora" onchange="loadPreset()"></select>
      <input id="presetName" placeholder="‡∏ä‡∏∑‡πà‡∏≠ Preset" />
      <textarea id="presetText" rows="4" placeholder="‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î Preset"></textarea>
      <div class="row">
        <button class="add" onclick="savePreset()">üíæ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
        <button class="del" onclick="deletePreset()">üóë ‡∏•‡∏ö</button>
      </div>
    </div>

    <!-- MENU -->
    <div id="menu"></div>

  </div>

  <!-- RIGHT -->
  <div class="right">

    <h2>üìÑ Sora Prompt</h2>
    <textarea id="result" class="output" readonly></textarea>

    <div class="row">
      <button class="copy" onclick="copySora()">üìã Copy (Sora Prompt)</button>
      <button id="sendBtn" class="send" onclick="sendGPT()">üöÄ Send GPT</button>
    </div>

    <hr style="margin:6px 0;border-color:#333" />

    <h2>ü§ñ GPT Prompt</h2>
    <textarea id="gptPrompt" class="output" readonly></textarea>
    <button class="copy" onclick="copyGPT()">üìã Copy (GPT Prompt)</button>

    <div class="log" id="log">> Ready<br></div>

  </div>

</div>

<script>
/** =========================
 * CONFIG
 * =========================
 * - ‡∏ñ‡πâ‡∏≤‡πÉ‡∏ä‡πâ Render: ‡πÉ‡∏™‡πà URL ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì
 * - ‡∏ñ‡πâ‡∏≤ local: http://localhost:3000/api/generate-gpt-prompt
 */
const GPT_API_URL = "https://gpt-backend-xm93.onrender.com/api/generate-gpt-prompt";

/** =========================
 * STORAGE + ELEMENTS
 * ========================= */
const LS = "PROMPT_BUILDER_DATA";
const LS_PRESET = "SORA_PRESETS";

const presetSora = document.getElementById("presetSora");
const presetName = document.getElementById("presetName");
const presetText = document.getElementById("presetText");
const result = document.getElementById("result");
const logBox = document.getElementById("log");
const gptBox = document.getElementById("gptPrompt");

/** =========================
 * LOG
 * ========================= */
function log(msg){
  logBox.innerHTML += `> ${escapeHtml(String(msg))}<br>`;
  logBox.scrollTop = logBox.scrollHeight;
}
function escapeHtml(s){
  return s.replace(/[&<>"']/g, m => ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[m]));
}

/** =========================
 * IMAGE PREVIEW
 * ========================= */
function setupPreview(inputId, previewId){
  const input = document.getElementById(inputId);
  const preview = document.getElementById(previewId);

  input.addEventListener("change", () => {
    const file = input.files && input.files[0];
    if(!file){
      preview.style.display = "none";
      preview.src = "";
      return;
    }
    const reader = new FileReader();
    reader.onload = e => {
      preview.src = e.target.result;
      preview.style.display = "block";
    };
    reader.readAsDataURL(file);
  });
}
setupPreview("img1", "preview1");
setupPreview("img2", "preview2");

/** =========================
 * SORA PRESETS
 * ========================= */
let soraPresets = JSON.parse(localStorage.getItem(LS_PRESET)) || {
  ugc:{
    name:"UGC ‡∏£‡∏µ‡∏ß‡∏¥‡∏ß‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤",
    text:[
      "A vertical 9:16 UGC-style video.",
      "A real customer casually reviewing the product.",
      "Natural lighting, handheld camera, slight camera movement.",
      "Soft daylight, cozy atmosphere.",
      "Realistic skin texture, authentic facial expressions.",
      "15 seconds.",
      "High quality, cinematic but natural.",
      "Optimized for TikTok."
    ].join("\n")
  }
};

function renderPresets(){
  presetSora.innerHTML = "";
  Object.keys(soraPresets).forEach(k=>{
    const o=document.createElement("option");
    o.value=k;
    o.textContent=soraPresets[k].name;
    presetSora.appendChild(o);
  });
  loadPreset();
}

function loadPreset(){
  const p = soraPresets[presetSora.value];
  if(!p) return;
  presetName.value = p.name;
  presetText.value = p.text;
  update();
}

function savePreset(){
  if(!presetName.value) return alert("‡∏Å‡∏£‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠ Preset");
  const k = presetName.value.toLowerCase().replace(/\s+/g,"_");
  soraPresets[k] = { name: presetName.value, text: presetText.value };
  localStorage.setItem(LS_PRESET, JSON.stringify(soraPresets));
  renderPresets();
  presetSora.value = k;
}

function deletePreset(){
  if(!confirm("‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏•‡∏ö Preset ‡∏ô‡∏µ‡πâ ?")) return;
  delete soraPresets[presetSora.value];
  localStorage.setItem(LS_PRESET, JSON.stringify(soraPresets));
  renderPresets();
}

/** =========================
 * DATA SECTIONS (LEFT MENU)
 * ========================= */
let data = JSON.parse(localStorage.getItem(LS)) || {
  image:{enabled:false,items:["‡πÅ‡∏ï‡πà‡∏á‡∏†‡∏≤‡∏û 9:16"]},
  product:{enabled:false,items:["‡∏ó‡πá‡∏≠‡∏õ‡πÄ‡∏õ‡∏≠‡∏£‡πå"]},
  work:{enabled:false,items:["UGC ‡∏£‡∏µ‡∏ß‡∏¥‡∏ß"]},
  model:{enabled:false,items:["‡∏ô‡∏≤‡∏á‡πÅ‡∏ö‡∏ö‡πÄ‡∏≠‡πÄ‡∏ä‡∏µ‡∏¢"]},
  style:{enabled:false,items:["Luxury"]},
  mood:{enabled:false,items:["‡∏≠‡∏ö‡∏≠‡∏∏‡πà‡∏ô"]},
  voice:{enabled:false,items:["‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏ú‡∏π‡πâ‡∏´‡∏ç‡∏¥‡∏á"]},
  subtitle:{enabled:false,items:["‡∏ã‡∏±‡∏ö‡∏Ç‡∏≤‡∏¢"]}
};

function save(){ localStorage.setItem(LS, JSON.stringify(data)); }

function section(title,key){
  const c = data[key];
  if(!c.enabled) return "";
  return `
  <div class="card active" id="sec-${key}">
    <h2>${title}</h2>
    <select id="${key}_s" onchange="update()">
      ${c.items.map(v=>`<option>${escapeHtml(v)}</option>`).join("")}
    </select>
    <input id="${key}_i" placeholder="‡πÄ‡∏û‡∏¥‡πà‡∏° / ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç">
    <div class="row">
      <button class="add" onclick="add('${key}')">‚ûï ‡πÄ‡∏û‡∏¥‡πà‡∏°</button>
      <button class="del" onclick="delItem('${key}')">üóë ‡∏•‡∏ö</button>
    </div>
  </div>`;
}

function render(){
  document.getElementById("menu").innerHTML =
    section("üñº ‡∏´‡∏°‡∏ß‡∏î‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏†‡∏≤‡∏û","image")+
    section("üì¶ ‡∏´‡∏°‡∏ß‡∏î‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤","product")+
    section("üß† ‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏á‡∏≤‡∏ô","work")+
    section("üë§ ‡∏ô‡∏≤‡∏¢‡πÅ‡∏ö‡∏ö / ‡∏ô‡∏≤‡∏á‡πÅ‡∏ö‡∏ö","model")+
    section("üé¨ ‡∏™‡πÑ‡∏ï‡∏•‡πå VDO","style")+
    section("üå§ ‡∏ö‡∏£‡∏£‡∏¢‡∏≤‡∏Å‡∏≤‡∏®","mood")+
    section("üé§ ‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏û‡∏≤‡∏Å‡∏¢‡πå","voice")+
    section("‚úçÔ∏è ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ã‡∏±‡∏ö‡πÑ‡∏ï‡πÄ‡∏ï‡∏¥‡∏•","subtitle");
  update();
}

function add(k){
  const i=document.getElementById(k+"_i");
  if(!i.value) return;
  data[k].items.push(i.value);
  i.value="";
  save();
  render();
}

function delItem(k){
  const s=document.getElementById(k+"_s");
  if(!s) return;
  if(!confirm(`‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏•‡∏ö "${s.value}" ?`)) return;
  data[k].items.splice(s.selectedIndex,1);
  save();
  render();
}

function line(t,k){
  if(!data[k].enabled) return "";
  const s=document.getElementById(k+"_s");
  return s ? `${t}: ${s.value}\n` : "";
}

/** =========================
 * BUILD SORA PROMPT
 * ========================= */
function update(){
  const p = soraPresets[presetSora.value];
  result.value =
`###  ###
${p ? p.text : ""}

### DETAIL ###
${line("‡∏ä‡πà‡∏ß‡∏¢‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏†‡∏≤‡∏û ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô1‡∏†‡∏≤‡∏û (‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡∏™‡∏£‡πâ‡∏≤‡∏áPrompt) ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏î‡∏±‡∏á‡∏ô‡∏µ‡πâ","image")}
${line("‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤","product")}
${line("‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏á‡∏≤‡∏ô","work")}
${line("‡∏ô‡∏≤‡∏¢‡πÅ‡∏ö‡∏ö/‡∏ô‡∏≤‡∏á‡πÅ‡∏ö‡∏ö","model")}
${line("‡∏™‡πÑ‡∏ï‡∏•‡πå","style")}
${line("‡∏ö‡∏£‡∏£‡∏¢‡∏≤‡∏Å‡∏≤‡∏®","mood")}
${line("‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏û‡∏≤‡∏Å‡∏¢‡πå","voice")}
${line("‡∏ã‡∏±‡∏ö","subtitle")}`.trim();
}

/** =========================
 * MODES
 * ========================= */
function resetAll(){ Object.keys(data).forEach(k=>data[k].enabled=false); }
function modeImage(){ resetAll(); ["product","image"].forEach(k=>data[k].enabled=true); save(); render(); }
function modeWork(){ resetAll(); ["product","work","model","style","mood"].forEach(k=>data[k].enabled=true); save(); render(); }
function modeVoice(){ resetAll(); ["product","voice"].forEach(k=>data[k].enabled=true); save(); render(); }
function modeSub(){ resetAll(); ["product","subtitle"].forEach(k=>data[k].enabled=true); save(); render(); }

/** =========================
 * COPY
 * ========================= */
async function copySora(){
  try{
    await navigator.clipboard.writeText(result.value || "");
    log("Copy Sora Prompt ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à");
  }catch{
    result.select();
    document.execCommand("copy");
    log("Copy Sora Prompt ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à (fallback)");
  }
}
async function copyGPT(){
  try{
    await navigator.clipboard.writeText(gptBox.value || "");
    log("Copy GPT Prompt ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à");
  }catch{
    gptBox.select();
    document.execCommand("copy");
    log("Copy GPT Prompt ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à (fallback)");
  }
}

/** =========================
 * SEND GPT (multipart/FormData + 2 images)
 * =========================
 * ‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏´‡πâ Backend ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö multipart:
 * - Express + multer: upload.fields([{name:"img1"},{name:"img2"}])
 */
async function sendGPT(){
  const sendBtn = document.getElementById("sendBtn");
  sendBtn.disabled = true;

  const soraPrompt = (result.value || "").trim();
  if(!soraPrompt){
    log("‚ùå Sora Prompt ‡∏ß‡πà‡∏≤‡∏á");
    sendBtn.disabled = false;
    return;
  }

  const img1 = document.getElementById("img1")?.files?.[0] || null;
  const img2 = document.getElementById("img2")?.files?.[0] || null;

  const formData = new FormData();
  formData.append("soraPrompt", soraPrompt);
  if(img1) formData.append("img1", img1);
  if(img2) formData.append("img2", img2);

  log("üöÄ Sending to GPT API...");

  try{
    const res = await fetch(GPT_API_URL, { method:"POST", body: formData });

    if(res.status === 429){
      log("‚ö†Ô∏è API ‡∏à‡∏≥‡∏Å‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô (HTTP 429) ‚Äî ‡∏£‡∏≠ 30‚Äì60 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ ‡πÅ‡∏•‡πâ‡∏ß‡∏Å‡∏î‡πÉ‡∏´‡∏°‡πà 1 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á");
      return;
    }

    if(!res.ok){
      const text = await res.text().catch(()=> "");
      log(`‚ùå API Error: HTTP ${res.status}${text ? " | " + text.slice(0,120) : ""}`);
      return;
    }

    const payload = await res.json();
    const prompt =
      payload?.prompt ||
      payload?.data?.prompt ||
      (payload?.success && payload?.prompt) ||
      "";

    if(!String(prompt).trim()){
      log("‚ùå API ‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤ ‡πÅ‡∏ï‡πà‡πÑ‡∏°‡πà‡∏û‡∏ö prompt");
      return;
    }

    gptBox.value = String(prompt).trim();
    log("‚úÖ ‡πÑ‡∏î‡πâ GPT Prompt ‡πÅ‡∏•‡πâ‡∏ß");
  }catch(err){
    console.error(err);
    log("‚ùå Fetch failed: " + (err?.message || err));
    log("üîé ‡πÄ‡∏ä‡πá‡∏Å‡∏ß‡πà‡∏≤ URL ‡∏ñ‡∏π‡∏Å + Backend Live + CORS ‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï github.io ‡πÅ‡∏•‡πâ‡∏ß");
  }finally{
    sendBtn.disabled = false;
  }
}

const IMAGE_API_URL = "https://gpt-backend-xm93.onrender.com/api/generate-image";

async function generateImage(){
  const soraPrompt = (result.value || "").trim();
  const img1 = document.getElementById("img1")?.files?.[0] || null;

  if(!img1){
    log("‚ùå ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏π‡∏õ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ (img1) ‡∏Å‡πà‡∏≠‡∏ô");
    return;
  }
  if(!soraPrompt){
    log("‚ùå Sora Prompt ‡∏ß‡πà‡∏≤‡∏á");
    return;
  }

  const form = new FormData();
  form.append("soraPrompt", soraPrompt);
  form.append("img1", img1);

  log("üñº Generating image...");

  try{
    const res = await fetch(IMAGE_API_URL, { method:"POST", body: form });

    if(res.status === 429){
      log("‚ö†Ô∏è HTTP 429: ‡πÇ‡∏Ñ‡∏ß‡∏ï‡πâ‡∏≤‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏£‡∏ó‡∏•‡∏¥‡∏°‡∏¥‡∏ï ‚Äî ‡∏£‡∏≠ 30‚Äì60 ‡∏ß‡∏¥ ‡πÅ‡∏•‡πâ‡∏ß‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà");
      return;
    }

    if(!res.ok){
      const t = await res.text().catch(()=> "");
      log(`‚ùå Image API Error: HTTP ${res.status} | ${t.slice(0,200)}`);
      return;
    }

    const payload = await res.json();
    if(!payload?.success || !payload?.b64){
      log("‚ùå API ‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤ ‡πÅ‡∏ï‡πà‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏£‡∏π‡∏õ");
      return;
    }

    const mime = payload.mime || "image/png";
    const dataUrl = `data:${mime};base64,${payload.b64}`;

    const img = document.getElementById("genPreview");
    const dl = document.getElementById("downloadLink");

    img.src = dataUrl;
    img.style.display = "block";

    dl.href = dataUrl;
    dl.style.display = "block";

    log("‚úÖ ‡πÑ‡∏î‡πâ‡∏£‡∏π‡∏õ‡πÅ‡∏•‡πâ‡∏ß ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î‡πÑ‡∏î‡πâ");
  }catch(err){
    console.error(err);
    log("‚ùå Generate image failed: " + (err?.message || err));
  }
}
  
/** =========================
 * INIT
 * ========================= */
renderPresets();
render();
</script>
</body>
</html>
